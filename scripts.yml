"Jakob the Fisherman":
  Type: Trigger
  Requirements:
    Mode: None
  Steps:
    '1':
      Click Trigger:
        Script:
        - CHAT I love to fish, but this ice makes it hard!

"Jakob at Home":
  Type: Activity
  Script:
  - EQUIP RAW_FISH
  - WANDER Home
  - TINKER
  - LOOP
    
"Jakob is trying to fish":
  Type: Activity
  Script:
  - EQUIP FISHING_ROD
  - WANDER Fishing Hole
  - LOOP
        
"Jakob's Predicament, Part 1":
  Type: Trigger
  Requirements:
    Mode: All
    List:
    - ACTIVITY Jakob is trying to fish
  Steps:
    '1':
      Proximity Trigger:
        Script:
        - EMOTE sighs, looking quite discouraged.
      Click Trigger:
        Script:
        - NPCWAIT 30 SECONDS
        - LOOKCLOSE
        - CHAT ...the wife is expecting dinner tonight. It's our anniversary! but...uhh...
        - DELAY 5 SECONDS
        - CHAT Uh yeah. This early freeze is not lending a hand! What to do?!
        - ACT Jakob is frantic
        - FINISH

"Jakob is frantic":
  Type: Activity
  Script:
  - JUMP
  - LOOP
        
"Jakob's Predicament, Part 2":
  Type: Trigger
  Requirements:
    Mode: All
    List:
    - ACTIVITY Frantic
    - FINISHED Jakob's Predicament, Part 1
  Steps:
    '1':
      Click Trigger:
        Script:
        - NPCWAIT 30 SECONDS
        - LOOKCLOSE
        - CHAT Geez! I must do something! But how can I fish with this ice?
        - WAIT 5 SECONDS
        - CHAT If only I could get through this ice. 
        - ACT Frantic
        - LISTEN BLOCKBREAK ICE 5 NEARNPC JAKOB Broke the Ice
        - FINISH

"Broke the Ice":
  Type: Listener
  Script:
  - ^SHOUT Oh wow! How did you do that?
  - ^FIND PLAYER <PLAYER>
  - WAIT 5 SECONDS
  - LOOKCLOSE
  - CHAT What a great idea! How did you break that ice?!
  - LOOKDOWN
  - WAIT 5 SECONDS
  - LOOKCLOSE
  - CHAT Well no matter, I better get to fishing!
  - ACT Jakob is finally fishing
    
"Jakob is finally fishing":
  Type: Activity
  Script:
  - NPC EQUIP FISHING_ROD
  - WALK 2 2 0
  - NPCWAIT 10
  - WALK -2 -2 0
  - NPCWAIT 10
  - LOOP
    
"Jakob's Predicament, Part 3":
  Type: Trigger
  Requirements:
    Mode: All
    List:
    - FINISHED Jakob's Predicament, Part 2
  Steps:  
    '1':
      Click Trigger:
        Script:
        - ^NPCWAIT 30 SECONDS
        - LOOKCLOSE
        - CHAT Oh, of course! Is there anything I can give to thank you for your help?
        - HINT
      Chat Trigger:
        '1':
          Trigger: Some /money/ would certainly help.
          Script:
          - CHAT Of course, thank you for the help!
          - GIVE MONEY 100
          - ^RESET Jakob's Predicament, Part 1
          - ^RESET Jakob's Predicament, Part 2
          - ^RESET Jakob's Predicament, Part 3
        '2':
          Trigger: /No/ thank you sir, it was my pleasure!
          Script:
          - CHAT How generous! I'm sure we will cross paths in the future!
          - ZAP
          - REMEMBER <PLAYER> 
    '2':
      Click Trigger:
        Script:
        - IF TIME NIGHT CHAT Good evening, sir!
        - IF TIME DAY CHAT Good day, sir!
      

